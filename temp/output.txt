>> gen_str [LOAD DATA INFILE '/home/user/fleet.csv' INTO TABLE space_ship LINES TERMINATED BY '
' (@dummy, name, description);]
.>> gen_str [LOAD DATA CONCURRENT INFILE '/home/user/fleet.csv' REPLACE INTO TABLE space_ship FIELDS TERMINATED BY '	' ENCLOSED BY '"' LINES TERMINATED BY '
' IGNORE 1 LINES (@dummy, name, description);]
.>> gen_str [LOAD DATA CONCURRENT INFILE '/home/user/fleet.csv' REPLACE INTO TABLE space_ship FIELDS TERMINATED BY '	' ENCLOSED BY '"' LINES TERMINATED BY '
' IGNORE 1 LINES (@dummy, name, description) SET column2='dummy';]
...................>> gen_str [CREATE TABLE foo LIKE bar;]
.>> gen_str [CREATE TABLE IF NOT EXISTS foo LIKE bar;]
.>> gen_str [CREATE TEMPORARY TABLE foo LIKE bar;]
.error: please enter the tbl_name and old_tbl_name parmas
.>> gen_str [DROP TABLE foo;]
.>> gen_str [DROP TABLE IF EXISTS foo;]
.>> gen_str [DROP TEMPORARY TABLE foo;]
.>> gen_str [DROP TABLE foo, bar;]
.>> gen_str [UPDATE foo a, bar b SET a.name=b.name;]
F......>> gen_str [LOAD DATA CONCURRENT INFILE '/home/user/fleet.csv' REPLACE INTO TABLE fleet FIELDS TERMINATED BY '	' LINES TERMINATED BY '
' IGNORE 1 LINES (@dummy, name, description);]
query successful
.>> gen_str [LOAD DATA CONCURRENT INFILE '/home/user/fleet.csv' REPLACE INTO TABLE fleet FIELDS TERMINATED BY '	' LINES TERMINATED BY '
' IGNORE 1 LINES (@dummy, name, description) SET name='dummy dummy';]
query successful
..

Failures:

  1) GenUpdate update_multi basic
     Failure/Error: expect(result).to eq(final_str)
       
       expected: "LOAD DATA INFILE '/home/user/fleet.csv' INTO TABLE space_ship LINES TERMINATED BY '\r\n' (@dummy, name, description);"
            got: "UPDATE foo a, bar b SET a.name=b.name;"
       
       (compared using ==)
       
       Diff:
       @@ -1,3 +1,2 @@
       -LOAD DATA INFILE '/home/user/fleet.csv' INTO TABLE space_ship LINES TERMINATED BY '
       -' (@dummy, name, description);
       +UPDATE foo a, bar b SET a.name=b.name;
     # ./spec/features/mysql2_helper/gen/gen_update_spec.rb:12:in `block (3 levels) in <top (required)>'

Finished in 0.43095 seconds
39 examples, 1 failure

Failed examples:

rspec ./spec/features/mysql2_helper/gen/gen_update_spec.rb:6 # GenUpdate update_multi basic
